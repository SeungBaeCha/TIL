# [Unity] 분기문과 반복문 (2)

## 1. 학습 날짜
2025년 10월 20일

## 2. 학습 내용
- 조건문 `switch`
- 반복문 `for`, `while`, `do-while`

## 3. 왜 중요할까?
`if-else if-else` 문이 길게 늘어질 경우, `switch` 문을 사용하면 특정 변수의 값에 따른 여러 경우를 훨씬 깔끔하고 
직관적으로 표현할 수 있고 컴퓨터에게 단순하고 반복적인 작업을 효율적으로 시킬 수 있다.

## 4. 핵심 정리
- `switch(변수)`: 괄호 안에 있는 변수의 값을 확인할 대상을 지정한다.
- `case 값:`: 변수가 특정 `값`과 일치할 경우 실행할 코드를 정의한다.
- `break;`: 현재 `case`의 코드 실행이 끝나면 `switch` 문 전체를 빠져나가기 위해 반드시 필요하다.
- `default:`: 위에 있는 어떤 `case`와도 일치하는 값이 없을 때 기본적으로 실행할 코드를 정의한다.

- **for**: 정해진 횟수만큼 반복하는 데 가장 유용하다. `for(초기화; 조건; 갱신)` 형태로 구성된다.
- **while**: 특정 조건이 만족되는 동안 계속 반복해야 할 때 쓴다. 반복 횟수가 정해져 있지 않을 때 주로 사용한다.
- **do-while**: `while`과 같지만, 코드를 최소 한 번은 꼭 실행해야 할 때 쓴다. 조건을 나중에 검사하기 때문이다.


---

#### 코드 예시

**switch문**

```csharp
int year = 2017;

switch(year)
{
    case 2012 :
        Debug.Log("레미제라블");
        break;

    case 2015 :
        Debug.Log("어벤져스2");
        break;

    case 2017 :
        Debug.Log("프랜스포머5");
        break;

    default :
        Debug.Log("년도가 해당사항이 없음");
        break;
}


**for문**

```csharp
// i가 0부터 9까지 총 10번 반복한다.
for(int i = 0; i < 10; i++)
{
    Debug.Log("현재 순번 : " + i);
}
Debug.Log("루프 끝");
```




**while문**
```csharp
bool isShot = false;
int index = 0;
int luckyNumber = 4;

// isShot이 false인 동안 계속 반복한다.
while(isShot == false)
{
    index = index + 1;
    Debug.Log("현재시도 : "+ index);
    if(index == luckyNumber)
    {
        Debug.Log("총알에 맞았다");
        isShot = true; // 이 코드가 실행되어 isShot이 true가 되면, 다음번 while 조건 검사에서 false가 되어 루프를 탈출한다.
    }
    else
    {
        Debug.Log("총알에 맞지 않았다");
    }
}
```





**do-while문**
```csharp
// isShot이 이미 true인 상태에서 시작

// 일단 do 안의 코드를 한번 실행하고, 그 다음에 while의 조건을 검사한다.
// 조건이 false이므로 한번만 실행되고 끝난다.
do
{
    Debug.Log("Do-while 실행! 하지만 조건이 false라 한 번만 실행됨");
} while(isShot == false);
```




## 5. 어려웠던 점 & 해결 과정
**문제:**
`case`마다 `break`를 써야 하는 이유를 정확히 몰랐고,
`while`문을 사용할 때, 조건을 잘못 설정하여 `isShot = true;` 같은 탈출 코드가 실행되지 않으면 어떻게 되는지 궁금했다.

**해결:**
`break`를 일부러 빼고 실행해보니, 코드가 멈추지 않고 다음 `case`의 코드까지 연달아 실행되는 "fall-through(폭포수)" 현상을 직접 확인했다. 이를 통해 `break`의 중요성을 이해했다.

for문과 while문에서, 탈출 코드를 일부러 주석 처리하고 실행해보니 유니티 에디터가 멈추는 '무한 루프' 현상을 경험했다. 이를 통해 `while`문에서는 루프를 확실히 끝낼 수 있는 조건 관리가 매우 중요하다는 것을 깨달았다.


## 6. 참고 자료
- [유튜브] 레트로 retr0 - 형변환과 조건문 : (https://www.youtube.com/watch?v=M3lNDNKd84k&list=PLctzObGsrjfyKVZol-aPl-2c9cLAQHzKq&index=9)

- Unity 공식 문서 - switch: (https://docs.unity3d.com/kr/current/Manual/SL-Switch.html)
- Unity Learn - Loops: (https://learn.unity.com/tutorial/loops)
